package com.bo.ad {	import flash.display.Sprite;	import flash.text.TextField;	import flash.display.Shape;	import flash.utils.Timer;	import flash.events.TimerEvent;	import com.bo.events.MyEvent;	public class PreAdBase extends Sprite{		protected var adsp:Sprite;		protected var txtcount:TextField;		protected var duration:int=0;		protected var yellowbar:Sprite;		private var count:int;		private var timer:Timer=new Timer(1000);		public function PreAdBase() {			// constructor code			graphics.beginFill(0x0000ff,0);			graphics.drawRect(0,0,Global.appWidth,Global.appHeight-29);			graphics.endFill();		}		public function rearrange():void{			width=Global.appWidth;			height=Global.appHeight-29;		}		public function initAndPlay():void{		}		protected function showCount():void{			var shape:Shape=new Shape();			shape.graphics.beginFill(0x000000,0.5);			shape.graphics.drawRect(0,0,Global.appWidth,30);			shape.graphics.endFill();			shape.y=Global.appHeight-59;			addChild(shape);			count=duration;			txtcount=new TextField();			txtcount.text="广告剩余"+count+"秒";			txtcount.textColor=0xffffff;			txtcount.selectable=false;			txtcount.width=100;			txtcount.x=5;			txtcount.y=Global.appHeight-54;			addChild(txtcount);			timer.start();			timer.addEventListener(TimerEvent.TIMER,onTimer);		}		private function onTimer(evt:TimerEvent):void{			count--;			txtcount.text="广告剩余"+count+"秒";			if(count<=0){				dispose();			}		}		protected function dispose():void{			timer.reset();			timer.removeEventListener(TimerEvent.TIMER,onTimer);			Global.notificationCenter.postEvent(new MyEvent(MyEvent.POSTEVENT,MyEvent.PREADCOMPLETE));		}	}	}